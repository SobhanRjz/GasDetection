/* Design Tokens */
:root {
  --bg: #ffffff;
  --ink: #0f172a;
  --muted: #64748b;
  --card: #ffffff;
  --border: #e5e7eb;

  --ok: #10b981;
  --warn: #f59e0b;
  --danger: #ef4444;
  --info: #0ea5e9;

  /* Status Color System */
  /* Safety Category */
  --safety-safe: #10b981;
  --safety-danger: #ef4444;

  /* Equipment Category */
  --equipment-normal: #3b82f6;
  --equipment-warning: #f59e0b;
  --equipment-critical: #f97316;

  /* Controls Category */
  --controls-normal: #64748b;
  --controls-warning: #f59e0b;
  --controls-critical: #ef4444;

  --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  --radius: 12px;

  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 12px;
  --space-lg: 16px;
  --space-xl: 24px;
  --space-2xl: 32px;
  --space-5xl: 80px;

  /* Typography Scale */
  --font-h1: 2rem;      /* 32px */
  --font-section: 1.125rem;  /* 18px */
  --font-body: 0.875rem;     /* 14px */
}

html[data-theme="dark"] {
  --bg: #0f172a;
  --ink: #f1f5f9;
  --muted: #94a3b8;
  --card: #1e293b;
  --border: #334155;

  --ok: #10b981;
  --warn: #f59e0b;
  --danger: #ef4444;
  --info: #0ea5e9;

  --safety-safe: #10b981;
  --safety-danger: #ef4444;

  --equipment-normal: #3b82f6;
  --equipment-warning: #f59e0b;
  --equipment-critical: #f97316;

  --controls-normal: #94a3b8;
  --controls-warning: #f59e0b;
  --controls-critical: #ef4444;

  --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
}

/* Base Styles */
body {
  background-color: var(--bg);
  color: var(--ink);
  line-height: 1.6;
  font-family: system-ui, -apple-system, sans-serif;
}

[data-theme="dark"] body {
  background-color: var(--bg);
}

/* Tabular numbers for KPIs to prevent jumping */
.stat__value-number {
  font-variant-numeric: tabular-nums;
  font-weight: 800;
  font-size: 3rem;
  color: var(--ink);
  margin-right: var(--space-xs);
  line-height: 1;
  letter-spacing: -0.02em;
}

.stat__unit {
  font-size: 1rem;
  color: var(--muted);
  font-weight: 300;
}

/* Layout */
.dashboard {
  min-height: 100vh;
  background-color: var(--bg);
  color: var(--ink);
}

[data-theme="dark"] .dashboard {
  background-color: var(--bg);
}

.dashboard-container {
  max-width: 1280px;
  margin: 0 auto;
  padding: var(--space-2xl);
}

@media (max-width: 640px) {
  .dashboard-container {
    padding: var(--space-lg);
  }
}

/* Header */
.dashboard-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: var(--space-2xl);
}

.dashboard-title {
  font-size: var(--font-h1);
  font-weight: 700;
  color: var(--ink);
  margin: 0;
}

.dashboard-toolbar {
  display: flex;
  align-items: center;
  gap: var(--space-lg);
  margin-top: var(--space-sm);
}

.refresh-btn {
  padding: var(--space-sm) var(--space-lg);
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--space-sm);
  color: var(--ink);
  font-size: var(--font-body);
  cursor: pointer;
  transition: all 0.2s ease;
}

.refresh-btn:hover {
  background: #f8fafc;
}

[data-theme="dark"] .refresh-btn:hover {
  background: #334155;
}

.refresh-btn:focus {
  outline: 2px solid var(--info);
  outline-offset: 2px;
}

.last-updated {
  font-size: var(--font-body);
  color: var(--muted);
}

/* Enhanced focus rings */
.pill:focus {
  outline: 2px solid var(--info);
  outline-offset: 2px;
}

.search:focus {
  outline: 2px solid var(--info);
  outline-offset: 2px;
  border-color: var(--info);
}

.auto-refresh:focus {
  outline: 2px solid var(--info);
  outline-offset: 2px;
  border-color: var(--info);
}

.acknowledge-btn:focus {
  outline: 2px solid var(--info);
  outline-offset: 2px;
}

@media (max-width: 640px) {
  .dashboard-header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-lg);
  }

  .dashboard-title {
    font-size: 1.75rem;
  }
}

/* KPI Cards */
.kpi-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-xl);
  margin-bottom: var(--space-xl);
  align-items: start;
  justify-content: center;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
}

/* Equal height cards */
.card--stat {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: var(--space-lg);
  transition: all 0.2s ease;
  position: relative;
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: auto auto auto;
  gap: var(--space-md) var(--space-lg);
}

.card--stat:hover {
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}

.stat__header {
  grid-column: 1 / -1;
  grid-row: 1;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.stat__value-row {
  grid-column: 1;
  grid-row: 2;
}

.stat__footer {
  grid-column: 1 / -1;
  grid-row: 3;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
}

.stat__label {
  font-size: var(--font-section);
  font-weight: 600;
  color: var(--ink);
  margin: 0;
}

.stat__badge {
  padding: var(--space-xs) var(--space-sm);
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  min-height: 24px;
}

.stat__badge-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  flex-shrink: 0;
}

.stat__badge--safe {
  background: rgba(16, 185, 129, 0.1);
  color: var(--ok);
}

.stat__badge--safe .stat__badge-dot {
  background: var(--ok);
}

.stat__badge--warning {
  background: rgba(245, 158, 11, 0.1);
  color: var(--warn);
}

.stat__badge--warning .stat__badge-dot {
  background: var(--warn);
}

.stat__badge--danger {
  background: rgba(239, 68, 68, 0.1);
  color: var(--danger);
}

.stat__badge--danger .stat__badge-dot {
  background: var(--danger);
}

/* Safety Category Badges (Gas, Fire, Smoke) */
.stat__badge--safety-safe {
  background: rgba(16, 185, 129, 0.15);
  color: var(--safety-safe);
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.stat__badge--safety-safe .stat__badge-dot {
  background: var(--safety-safe);
}

.stat__badge--safety-danger {
  background: rgba(239, 68, 68, 0.15);
  color: var(--safety-danger);
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.stat__badge--safety-danger .stat__badge-dot {
  background: var(--safety-danger);
}

/* Equipment Category Badges (Pressure, Temperature, Flow, RPM) */
.stat__badge--equipment-normal {
  background: rgba(59, 130, 246, 0.15);
  color: var(--equipment-normal);
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.stat__badge--equipment-normal .stat__badge-dot {
  background: var(--equipment-normal);
}

.stat__badge--equipment-warning {
  background: rgba(245, 158, 11, 0.15);
  color: var(--equipment-warning);
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.stat__badge--equipment-warning .stat__badge-dot {
  background: var(--equipment-warning);
}

.stat__badge--equipment-critical {
  background: rgba(249, 115, 22, 0.15);
  color: var(--equipment-critical);
  border: 1px solid rgba(249, 115, 22, 0.3);
}

.stat__badge--equipment-critical .stat__badge-dot {
  background: var(--equipment-critical);
}

/* Controls Category Badges (ESD, Valves, Shutdown) */
.stat__badge--controls-normal {
  background: rgba(100, 116, 139, 0.15);
  color: var(--controls-normal);
  border: 1px solid rgba(100, 116, 139, 0.3);
}

.stat__badge--controls-normal .stat__badge-dot {
  background: var(--controls-normal);
}

.stat__badge--controls-warning {
  background: rgba(245, 158, 11, 0.15);
  color: var(--controls-warning);
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.stat__badge--controls-warning .stat__badge-dot {
  background: var(--controls-warning);
}

.stat__badge--controls-critical {
  background: rgba(239, 68, 68, 0.15);
  color: var(--controls-critical);
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.stat__badge--controls-critical .stat__badge-dot {
  background: var(--controls-critical);
}


.stat__delta {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  font-size: var(--font-body);
  color: var(--muted);
}

.stat__delta-icon {
  font-size: var(--font-section);
  font-weight: 600;
  line-height: 1;
}

.stat__delta-icon--up-good {
  color: var(--ok);
}

.stat__delta-icon--up-bad {
  color: var(--danger);
}

.stat__delta-icon--down-good {
  color: var(--ok);
}

.stat__delta-icon--down-bad {
  color: var(--danger);
}

.stat__delta-icon--up-neutral {
  color: var(--muted);
}

.stat__delta-icon--down-neutral {
  color: var(--muted);
}

.stat__delta-value {
  font-weight: 600;
  color: var(--ink);
}

.stat__delta-period {
  color: var(--muted);
}

.stat__update {
  font-size: var(--font-body);
  color: var(--muted);
  margin-bottom: var(--space-sm);
}

.stat__gauge {
  flex: 1;
  margin-right: var(--space-md);
  margin-top: calc(var(--space-sm) * -3);
  display: flex;
  align-items: center;
  justify-content: center;
}

.gauge {
  display: flex;
  align-items: center;
  justify-content: center;
  filter: drop-shadow(0 1px 3px rgba(0, 0, 0, 0.1));
}

.gauge__svg {
  width: var(--gauge-size, 88px);
  height: var(--gauge-size, 88px);
}

.gauge__track {
  stroke: rgba(0, 0, 0, 0.1);
  opacity: 0.3;
}

[data-theme="dark"] .gauge__track {
  stroke: rgba(255, 255, 255, 0.2);
}

.gauge__fill {
  transition: stroke-dashoffset 400ms ease-in-out;
  stroke: var(--gauge-color, var(--ok));
  filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.1));
}

.gauge__center {
  fill: var(--ink);
}

.gauge__value {
  font-size: 0.875rem;
  font-weight: 700;
  fill: var(--ink);
}

.gauge__unit {
  font-size: 0.625rem;
  font-weight: 400;
  fill: var(--muted);
}

/* Responsive gauge sizing */
@media (max-width: 1024px) {
  .gauge__svg {
    width: 80px;
    height: 80px;
  }

  .gauge__value {
    font-size: 0.8125rem;
  }

  .gauge__unit {
    font-size: 0.5625rem;
  }
}

@media (max-width: 768px) {
  .gauge__svg {
    width: 72px;
    height: 72px;
  }

  .gauge__value {
    font-size: 0.75rem;
  }

  .gauge__unit {
    font-size: 0.5rem;
  }
}

/* System Status */
.status {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: var(--space-lg);
  margin-bottom: var(--space-2xl);
  margin-top: var(--space-5xl);
}

.status__strip {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-sm);
  font-size: var(--font-body);
  color: var(--muted);
}

.status__item {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

.status__label {
  font-weight: 500;
}

.status__separator {
  color: var(--border);
  font-weight: 400;
}

.status__dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  flex-shrink: 0;
}

.status__dot--ok {
  background: var(--ok);
}

.status__dot--warn {
  background: var(--warn);
}

.status__dot--danger {
  background: var(--danger);
}

.status__dot--info {
  background: var(--info);
}

/* Alerts Section */
.alerts {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: var(--space-xl);
}

.alerts__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-xl);
}

.alerts__title {
  font-size: var(--font-section);
  font-weight: 600;
  color: var(--ink);
  margin: 0;
}

.alerts__toolbar {
  display: flex;
  align-items: center;
  gap: var(--space-lg);
  flex-wrap: wrap;
}

.pill {
  padding: var(--space-sm) var(--space-md);
  border: 1px solid var(--border);
  border-radius: 9999px;
  background: var(--card);
  color: var(--muted);
  font-size: var(--font-body);
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  text-decoration: none;
}

.pill:hover {
  background: #f8fafc;
}

[data-theme="dark"] .pill:hover {
  background: #334155;
}

.pill:focus {
  outline: 2px solid var(--info);
  outline-offset: 2px;
}

.pill--active {
  background: var(--ink);
  color: white;
  border-color: var(--ink);
}

[data-theme="dark"] .pill--active {
  background: rgba(59, 130, 246, 0.2);
  color: #3b82f6;
  border-color: rgba(59, 130, 246, 0.4);
}

.search-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.search-icon {
  position: absolute;
  left: var(--space-sm);
  color: var(--muted);
  font-size: var(--font-body);
  pointer-events: none;
  z-index: 1;
}

.search {
  padding: var(--space-sm) var(--space-md) var(--space-sm) calc(var(--space-md) + var(--space-lg));
  border: 1px solid var(--border);
  border-radius: var(--space-sm);
  font-size: var(--font-body);
  color: var(--ink);
  background: var(--card);
  min-width: 200px;
}

.search:focus {
  outline: 2px solid var(--info);
  outline-offset: 2px;
  border-color: var(--info);
}

.search::placeholder {
  color: var(--muted);
}

.auto-refresh {
  padding: var(--space-sm) var(--space-md);
  border: 1px solid var(--border);
  border-radius: var(--space-sm);
  font-size: var(--font-body);
  color: var(--ink);
  background: var(--card);
  cursor: pointer;
}

.auto-refresh:focus {
  outline: 2px solid var(--info);
  outline-offset: 2px;
  border-color: var(--info);
}

.alerts__list {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.alert {
  display: grid;
  grid-template-columns: 4px auto 1fr auto;
  gap: var(--space-md);
  padding: var(--space-lg);
  border-radius: var(--space-sm);
  background: var(--card);
  transition: all 0.2s ease;
  align-items: flex-start;
}

.alert:hover {
  background: #f8fafc;
  transform: translateY(-1px);
}

[data-theme="dark"] .alert:hover {
  background: #334155;
}

.alert--acknowledged {
  opacity: 0.6;
  background: #f8fafc;
}

[data-theme="dark"] .alert--acknowledged {
  background: #334155;
}

.alert--acknowledged:hover {
  transform: none;
}

.alert__severity-chip {
  align-self: flex-start;
  margin-top: var(--space-xs);
}

.alert__actions {
  display: flex;
  align-items: flex-start;
  gap: var(--space-sm);
}

.acknowledge-btn {
  padding: var(--space-xs) var(--space-sm);
  background: var(--ok);
  color: white;
  border: none;
  border-radius: var(--space-sm);
  font-size: 0.75rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.acknowledge-btn:hover {
  background: #059669;
}

.acknowledge-btn:focus {
  outline: 2px solid var(--info);
  outline-offset: 2px;
}

.alert__severity {
  width: 4px;
  height: 40px;
  border-radius: 2px;
  align-self: flex-start;
}

.alert__severity--high {
  background: var(--danger);
}

.alert__severity--medium {
  background: var(--warn);
}

.alert__severity--low {
  background: var(--ok);
}

.alert__severity-chip {
  align-self: flex-start;
  margin-top: var(--space-xs);
}

.chip {
  padding: var(--space-xs) var(--space-sm);
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

.chip--high {
  background: rgba(239, 68, 68, 0.1);
  color: var(--danger);
}

.chip--medium {
  background: rgba(245, 158, 11, 0.1);
  color: var(--warn);
}

.chip--low {
  background: rgba(16, 185, 129, 0.1);
  color: var(--ok);
}

.alert__content {
  min-width: 0;
}

.alert__title {
  font-size: var(--font-body);
  font-weight: 600;
  color: var(--ink);
  margin: 0 0 var(--space-xs) 0;
}

.alert__desc {
  font-size: var(--font-body);
  color: var(--muted);
  margin: 0 0 var(--space-xs) 0;
}

.alert__time {
  font-size: 0.75rem;
  color: var(--muted);
  margin: 0;
}

.alert__metadata {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
  margin: var(--space-sm) 0;
}

.alert__signal-status,
.alert__ai-analysis {
  display: flex;
  align-items: flex-start;
  gap: var(--space-xs);
}

.alert__label {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--muted);
  min-width: 80px;
}

.alert__status-badge {
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
}

.alert__status-badge--hh {
  background: rgba(239, 68, 68, 0.15);
  color: var(--danger);
}

.alert__status-badge--h {
  background: rgba(245, 158, 11, 0.15);
  color: var(--warn);
}

.alert__status-badge--normal {
  background: rgba(16, 185, 129, 0.15);
  color: var(--ok);
}

.alert__status-badge--l {
  background: rgba(245, 158, 11, 0.15);
  color: var(--warn);
}

.alert__status-badge--ll {
  background: rgba(239, 68, 68, 0.15);
  color: var(--danger);
}

.alert__analysis-text {
  font-size: 0.75rem;
  color: var(--ink);
  line-height: 1.4;
}

.alert__ai-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.alert__ai-header {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.alert__ai-badge {
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
}

.alert__ai-badge--critical {
  background: rgba(239, 68, 68, 0.15);
  color: var(--danger);
}

.alert__ai-badge--warning {
  background: rgba(245, 158, 11, 0.15);
  color: var(--warn);
}

.alert__ai-badge--normal {
  background: rgba(16, 185, 129, 0.15);
  color: var(--ok);
}

.alert__ai-badge--high-attention {
  background: rgba(239, 68, 68, 0.15);
  color: var(--danger);
}

.alert__ai-badge--low-attention {
  background: rgba(245, 158, 11, 0.15);
  color: var(--warn);
}

.alert__ai-accuracy {
  font-size: 0.7rem;
  color: var(--muted);
  font-weight: 500;
}

.alerts__footer {
  display: flex;
  justify-content: center;
  padding: var(--space-lg) 0;
  border-top: 1px solid var(--border);
  margin-top: var(--space-lg);
}

.alert-details-btn {
  padding: var(--space-md) var(--space-xl);
  background: linear-gradient(135deg, var(--info) 0%, #0ea5e9 100%);
  color: white;
  border: none;
  border-radius: 50px;
  font-size: var(--font-body);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
  position: relative;
  overflow: hidden;
  min-height: 48px;
}

.alert-details-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 0.5s ease;
}

.alert-details-btn:hover::before {
  left: 100%;
}

.alert-details-btn:hover {
  background: linear-gradient(135deg, #0369a1 0%, #0284c7 100%);
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
}

.alert-details-btn:active {
  transform: translateY(0);
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
}

.alert-details-btn:focus {
  outline: none;
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3), 0 0 0 3px rgba(59, 130, 246, 0.2);
}

.alert__actions {
  display: flex;
  align-items: flex-start;
  gap: var(--space-sm);
}

.acknowledge-btn {
  padding: var(--space-xs) var(--space-sm);
  background: var(--ok);
  color: white;
  border: none;
  border-radius: var(--space-sm);
  font-size: 0.75rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.acknowledge-btn:hover {
  background: #059669;
}

.acknowledge-btn:focus {
  outline: 2px solid var(--info);
  outline-offset: 2px;
}

.empty-state {
  text-align: center;
  padding: var(--space-2xl);
  color: var(--muted);
  font-size: var(--font-body);
}

/* Skeleton loading states */
.skeleton {
  background: #f1f5f9;
  border-radius: var(--space-sm);
  position: relative;
  overflow: hidden;
  animation: skeleton-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.skeleton--card {
  height: 200px;
  margin-bottom: var(--space-xl);
}

.skeleton--text {
  height: 16px;
  margin-bottom: var(--space-sm);
}

.skeleton--text:last-child {
  width: 60%;
}

@keyframes skeleton-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}


/* Interactive elements - cursor styles */
.refresh-btn,
.pill,
.acknowledge-btn {
  cursor: pointer;
}

.search,
.auto-refresh {
  cursor: text;
}

/* Performance optimizations - limit expensive effects */
.card--stat:hover {
  transform: translateY(-1px); /* Reduced from -2px */
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1); /* Simplified shadow */
}

.alert:hover {
  background: #f8fafc;
  transform: translateY(-1px); /* Reduced lift */
}

/* Sticky alerts toolbar */
.alerts__toolbar {
  position: sticky;
  top: 0;
  background: var(--bg);
  z-index: 10;
  padding: var(--space-md) 0;
  margin: calc(var(--space-xl) * -1) 0 var(--space-lg) 0;
  border-bottom: 1px solid var(--border);
}

/* Responsive Design */
@media (max-width: 900px) {
  .kpi-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-lg);
  }
}

@media (max-width: 600px) {
  .kpi-grid {
    grid-template-columns: 1fr;
    gap: var(--space-lg);
  }
  
  .card--stat {
    min-height: 240px;
    padding: var(--space-lg);
  }
  
  .stat__footer {
    flex-direction: column;
    gap: var(--space-md);
    align-items: center;
  }

  .stat__value-number {
    font-size: 2.5rem;
  }
}

@media (max-width: 640px) {
  .alerts__header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-lg);
  }

  .alerts__toolbar {
    flex-wrap: wrap;
    width: 100%;
  }

  .search {
    min-width: 0;
    flex: 1;
  }

  .alert {
    grid-template-columns: 4px auto 1fr auto;
    gap: var(--space-sm);
    padding: var(--space-md);
  }

  .alert__severity-chip {
    margin-top: 0;
  }

  .alert__actions {
    margin-top: var(--space-xs);
  }
}

/* Dashboard Section Styles */
.dashboard-section {
  margin-bottom: 8rem;
}

.dashboard-section--with-margin-top {
  margin-top: 10rem;
}

.section-header {
  margin-bottom: var(--space-2xl);
  text-align: center;
}

[data-theme="dark"] .section-header {
  color: var(--ink);
}

.section-title {
  font-size: 1.75rem;
  font-weight: 700;
  color: var(--ink);
  margin: 0 0 var(--space-sm) 0;
  letter-spacing: -0.025em;
}

html[data-theme="dark"] .section-title {
  color: #f1f5f9;
}

.section-subtitle {
  font-size: 0.875rem;
  color: var(--muted);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 1px;
}

html[data-theme="dark"] .section-subtitle {
  color: #94a3b8;
}

/* Visual Divider */
.dashboard-divider {
  display: flex;
  align-items: center;
  margin: var(--space-2xl) 0;
  position: relative;
}

.divider-line {
  flex: 1;
  height: 1px;
  background: linear-gradient(to right, transparent, var(--border), transparent);
}

.divider-content {
  padding: 0 var(--space-xl);
  background: var(--bg);
  position: relative;
}

.divider-text {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 1.5px;
  padding: var(--space-sm) var(--space-lg);
  background: linear-gradient(135deg, #f8fafc, #f1f5f9);
  border: 1px solid var(--border);
  border-radius: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

[data-theme="dark"] .divider-text {
  background: linear-gradient(135deg, #334155, #475569);
  border-color: var(--border);
}

/* Industrial Dashboard Styles */

@media (max-width: 1400px) {
  .kpi-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Secondary Grid - Tier 2 Cards */
.secondary-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-xl);
  align-items: start;
  justify-items: stretch;
}

@media (max-width: 1200px) {
  .secondary-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-lg);
  }
}

@media (max-width: 900px) {
  .secondary-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
  }
}

@media (max-width: 600px) {
  .secondary-grid {
    grid-template-columns: 1fr;
    gap: var(--space-md);
  }

  .section-header {
    margin-bottom: var(--space-xl);
  }

  .section-title {
    font-size: 1.25rem;
  }

  .dashboard-divider {
    margin: var(--space-2xl) 0;
  }

  .divider-text {
    font-size: 0.7rem;
    padding: var(--space-xs) var(--space-md);
  }
}

.card--stat {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: var(--space-xl);
  transition: all 0.2s ease;
  min-height: 280px;
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
}

.card--stat:hover {
  box-shadow: 0 8px 25px 0 rgba(0, 0, 0, 0.12);
  transform: translateY(-2px);
  border-color: rgba(0, 0, 0, 0.1);
}

.stat__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--space-lg);
}

.stat__label {
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--ink);
  margin: 0;
  letter-spacing: -0.025em;
}

.stat__badge {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.stat__badge--safe {
  background: #dcfce7;
  color: #166534;
  border: 1px solid #bbf7d0;
}

[data-theme="dark"] .stat__badge--safe {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
  border-color: rgba(16, 185, 129, 0.4);
}

.stat__badge--warning {
  background: #fef3c7;
  color: #92400e;
  border: 1px solid #fde68a;
}

[data-theme="dark"] .stat__badge--warning {
  background: rgba(245, 158, 11, 0.2);
  color: #f59e0b;
  border-color: rgba(245, 158, 11, 0.4);
}

.stat__badge--danger {
  background: #fecaca;
  color: #991b1b;
  border: 1px solid #fca5a5;
}

[data-theme="dark"] .stat__badge--danger {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
  border-color: rgba(239, 68, 68, 0.4);
}

/* Updated mini status badges with categorical colors */
.stat__badge--safety-safe,
.mini__status--safety-safe {
  background: #dcfce7;
  color: #166534;
  border: 1px solid #bbf7d0;
}

[data-theme="dark"] .stat__badge--safety-safe,
[data-theme="dark"] .mini__status--safety-safe {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
  border-color: rgba(16, 185, 129, 0.4);
}

.stat__badge--safety-danger,
.mini__status--safety-danger {
  background: #fecaca;
  color: #991b1b;
  border: 1px solid #fca5a5;
}

[data-theme="dark"] .stat__badge--safety-danger,
[data-theme="dark"] .mini__status--safety-danger {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
  border-color: rgba(239, 68, 68, 0.4);
}

.stat__badge--equipment-normal,
.mini__status--equipment-normal {
  background: #dcfce7;
  color: #166534;
  border: 1px solid #bbf7d0;
}

[data-theme="dark"] .stat__badge--equipment-normal,
[data-theme="dark"] .mini__status--equipment-normal {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
  border-color: rgba(16, 185, 129, 0.4);
}

.stat__badge--equipment-warning,
.mini__status--equipment-warning {
  background: #fef3c7;
  color: #92400e;
  border: 1px solid #fde68a;
}

[data-theme="dark"] .stat__badge--equipment-warning,
[data-theme="dark"] .mini__status--equipment-warning {
  background: rgba(245, 158, 11, 0.2);
  color: #f59e0b;
  border-color: rgba(245, 158, 11, 0.4);
}

.stat__badge--equipment-critical,
.mini__status--equipment-critical {
  background: #fed7aa;
  color: #c2410c;
  border: 1px solid #fdba74;
}

[data-theme="dark"] .stat__badge--equipment-critical,
[data-theme="dark"] .mini__status--equipment-critical {
  background: rgba(249, 115, 22, 0.2);
  color: #f97316;
  border-color: rgba(249, 115, 22, 0.4);
}

.stat__badge--controls-normal,
.mini__status--controls-normal {
  background: #f1f5f9;
  color: #475569;
  border: 1px solid #e2e8f0;
}

[data-theme="dark"] .stat__badge--controls-normal,
[data-theme="dark"] .mini__status--controls-normal {
  background: rgba(148, 163, 184, 0.2);
  color: #94a3b8;
  border-color: rgba(148, 163, 184, 0.4);
}

.stat__badge--controls-warning,
.mini__status--controls-warning {
  background: #fef3c7;
  color: #92400e;
  border: 1px solid #fde68a;
}

[data-theme="dark"] .stat__badge--controls-warning,
[data-theme="dark"] .mini__status--controls-warning {
  background: rgba(245, 158, 11, 0.2);
  color: #f59e0b;
  border-color: rgba(245, 158, 11, 0.4);
}

.stat__badge--controls-critical,
.mini__status--controls-critical {
  background: #fecaca;
  color: #991b1b;
  border: 1px solid #fca5a5;
}

[data-theme="dark"] .stat__badge--controls-critical,
[data-theme="dark"] .mini__status--controls-critical {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
  border-color: rgba(239, 68, 68, 0.4);
}

.stat__badge-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: currentColor;
}

.stat__value-row {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: var(--space-lg) 0;
  min-height: 160px;
}

.stat__gauge {
  display: flex;
  justify-content: center;
  align-items: center;
}

.stat__value {
  display: flex;
  align-items: baseline;
  justify-content: center;
  gap: var(--space-xs);
}

.stat__footer {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: auto;
  padding-top: var(--space-lg);
  border-top: 1px solid #f1f5f9;
  min-height: 60px;
}

/* Circular Progress */
.circular-progress {
  width: 140px;
  height: 140px;
  flex-shrink: 0;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.circular-chart {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  transform: rotate(-90deg);
}

.circle-content {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  z-index: 10;
}

.circle-bg {
  fill: none;
  stroke: #f1f5f9;
  stroke-width: 3;
}

[data-theme="dark"] .circle-bg {
  stroke: #334155;
}

.circle {
  fill: none;
  stroke-width: 3;
  stroke-linecap: round;
  animation: progress 1.8s ease-out forwards;
  transform-origin: 50% 50%;
  transition: stroke-dasharray 0.3s ease;
}

.circle--safe { stroke: var(--ok); }
.circle--warning { stroke: var(--warn); }
.circle--danger { stroke: var(--danger); }

/* New categorical circle styles */
.circle--safety-safe { stroke: var(--safety-safe); }
.circle--safety-danger { stroke: var(--safety-danger); }
.circle--equipment-normal { stroke: var(--equipment-normal); }
.circle--equipment-warning { stroke: var(--equipment-warning); }
.circle--equipment-critical { stroke: var(--equipment-critical); }
.circle--controls-normal { stroke: var(--controls-normal); }
.circle--controls-warning { stroke: var(--controls-warning); }
.circle--controls-critical { stroke: var(--controls-critical); }

.circle-value {
  color: var(--ink);
  font-family: system-ui, sans-serif;
  font-size: 1.5rem;
  font-weight: 800;
  line-height: 1;
  margin: 0;
}

.circle-unit {
  color: var(--muted);
  font-family: system-ui, sans-serif;
  font-size: 0.875rem;
  font-weight: 600;
  line-height: 1;
  margin: 0;
  margin-top: 2px;
}

.percentage {
  fill: var(--ink);
  font-family: system-ui, sans-serif;
  font-size: 0.45em;
  text-anchor: middle;
  font-weight: 700;
  transform: rotate(90deg);
  dominant-baseline: central;
}

@keyframes progress {
  0% { stroke-dasharray: 0 100; }
}

.stat__delta {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  font-size: 0.875rem;
}

.stat__delta-icon {
  font-size: 1rem;
  font-weight: bold;
}

.stat__delta-icon--up-bad { color: var(--danger); }
.stat__delta-icon--down-good { color: var(--ok); }

.stat__delta-value {
  font-weight: 600;
  color: var(--ink);
}

.stat__delta-period {
  color: var(--muted);
  font-size: 0.75rem;
}

/* Pressure Panel Styles */
.stat__value--multi {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  width: 100%;
  align-items: stretch;
}

.pressure-reading {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-md);
  background: #f8fafc;
  border-radius: var(--space-sm);
  border-left: 3px solid #e2e8f0;
  transition: all 0.2s ease;
}

[data-theme="dark"] .pressure-reading {
  background: #334155;
  border-left-color: #475569;
}

.pressure-reading:hover {
  background: #f1f5f9;
  transform: translateX(2px);
}

[data-theme="dark"] .pressure-reading:hover {
  background: #475569;
}

.pressure-reading--highlight {
  background: linear-gradient(135deg, #fef3c7, #fde68a);
  border-left-color: var(--warn);
  font-weight: 600;
  box-shadow: 0 2px 4px rgba(245, 158, 11, 0.1);
}

.pressure-label {
  font-size: 0.8rem;
  color: var(--muted);
  font-weight: 600;
  min-width: 70px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.pressure-value {
  font-weight: 700;
  font-size: 1.1rem;
  color: var(--ink);
  font-variant-numeric: tabular-nums;
  display: flex;
  align-items: baseline;
  gap: 4px;
}

.pressure-value small {
  font-size: 0.75rem;
  color: var(--muted);
  font-weight: 500;
}

.trend-arrow {
  font-size: 1.2rem;
  font-weight: bold;
  margin-left: var(--space-sm);
  padding: 2px 6px;
  border-radius: 4px;
  background: rgba(255, 255, 255, 0.8);
}

.trend--up { 
  color: var(--danger);
  background: rgba(239, 68, 68, 0.1);
}
.trend--down { 
  color: var(--ok);
  background: rgba(16, 185, 129, 0.1);
}

/* Temperature Panel Styles */
.temp-secondary {
  display: flex;
  justify-content: center;
  gap: var(--space-2xl);
  margin-bottom: var(--space-md);
  padding: var(--space-lg);
  background: linear-gradient(135deg, #f8fafc, #f1f5f9);
  border-radius: var(--space-md);
  border: 1px solid #e2e8f0;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
}

[data-theme="dark"] .temp-secondary {
  background: linear-gradient(135deg, #334155, #475569);
  border-color: #475569;
}

.temp-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-sm);
  flex: 1;
  text-align: center;
}

.temp-label {
  font-size: 0.75rem;
  color: var(--muted);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  margin-bottom: 2px;
}

.temp-value {
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--ink);
  font-variant-numeric: tabular-nums;
}

/* Compressor Health Styles */
.compressor-status {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-xl);
  width: 100%;
}

.status-indicator {
  padding: var(--space-md) var(--space-xl);
  border-radius: var(--radius);
  font-weight: 700;
  font-size: 1.25rem;
  text-align: center;
  min-width: 140px;
  text-transform: uppercase;
  letter-spacing: 1px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transition: all 0.2s ease;
}

.status-indicator:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.status-indicator--safe {
  background: linear-gradient(135deg, #dcfce7, #bbf7d0);
  color: #166534;
  border: 2px solid var(--ok);
}

.status-indicator--warning {
  background: linear-gradient(135deg, #fef3c7, #fde68a);
  color: #92400e;
  border: 2px solid var(--warn);
}

.status-indicator--danger {
  background: linear-gradient(135deg, #fecaca, #fca5a5);
  color: #991b1b;
  border: 2px solid var(--danger);
}

.vibration-reading {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-md);
  width: 100%;
  padding: var(--space-lg);
  background: #f8fafc;
  border-radius: var(--space-sm);
  border: 1px solid #e2e8f0;
}

[data-theme="dark"] .vibration-reading {
  background: #334155;
  border-color: #475569;
}

.vibration-label {
  font-size: 0.8rem;
  color: var(--muted);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.vibration-value {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--ink);
  font-variant-numeric: tabular-nums;
  display: flex;
  align-items: baseline;
  gap: 4px;
}

.vibration-value small {
  font-size: 0.8rem;
  color: var(--muted);
  font-weight: 500;
}

.vibration-gauge {
  width: 100%;
  height: 8px;
  background: #e2e8f0;
  border-radius: 4px;
  overflow: hidden;
  position: relative;
}

[data-theme="dark"] .vibration-gauge {
  background: #475569;
}

.vibration-bar {
  height: 100%;
  border-radius: 4px;
  transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.vibration-bar--safe { 
  background: linear-gradient(90deg, var(--ok), #34d399);
}
.vibration-bar--warning { 
  background: linear-gradient(90deg, var(--warn), #fbbf24);
}

.maintenance-info {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-xs);
  margin-top: var(--space-md);
  padding: var(--space-md);
  background: #f1f5f9;
  border-radius: var(--space-sm);
  width: 100%;
}

[data-theme="dark"] .maintenance-info {
  background: #334155;
}

.maintenance-label {
  font-size: 0.75rem;
  color: var(--muted);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.maintenance-date {
  font-size: 1rem;
  font-weight: 600;
  color: var(--ink);
  font-variant-numeric: tabular-nums;
}

/* Mini Card Styles - Tier 2 */
.card--mini {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--space-sm);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  padding: var(--space-lg);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  height: 160px;
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
}

.card--mini::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--info), #0ea5e9);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.card--mini:hover::before {
  opacity: 1;
}

.card--mini:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transform: translateY(-1px);
}

.mini__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-md);
}

.mini__title {
  font-size: 0.875rem;
  font-weight: 700;
  color: var(--ink);
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.mini__status {
  font-size: 0.75rem;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 12px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.mini__status--normal {
  background: #dcfce7;
  color: #166534;
}

.mini__status--safe {
  background: #dcfce7;
  color: #166534;
}

.mini__status--warning {
  background: #fef3c7;
  color: #92400e;
}

.mini__content {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: var(--space-md) var(--space-sm);
  min-height: 80px;
}

/* Flow Rate Styles */
.flow-readings {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  width: 100%;
}

.flow-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-sm);
  background: #f8fafc;
  border-radius: var(--space-sm);
  border: 1px solid #e2e8f0;
}

[data-theme="dark"] .flow-item {
  background: #334155;
  border-color: #475569;
}

.flow-label {
  font-size: 0.8rem;
  color: var(--muted);
  font-weight: 600;
  min-width: 50px;
}

.flow-value {
  font-size: 0.9rem;
  font-weight: 700;
  color: var(--ink);
  font-variant-numeric: tabular-nums;
}

.flow-value small {
  font-size: 0.75rem;
  color: var(--muted);
  margin-left: 2px;
}

/* Flow Rate Panel Styles */
.flow-reading {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-lg);
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border-radius: 12px;
  border: 1px solid #e2e8f0;
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

[data-theme="dark"] .flow-reading {
  background: linear-gradient(135deg, #334155 0%, #475569 100%);
  border-color: #475569;
}

.flow-reading::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: linear-gradient(180deg, var(--equipment-normal), #60a5fa);
  border-radius: 0 4px 4px 0;
  transition: all 0.3s ease;
}

.flow-reading:hover {
  background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.flow-reading:hover::before {
  width: 6px;
  box-shadow: 0 0 10px rgba(59, 130, 246, 0.4);
}

.flow-reading--highlight {
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 50%, #fcd34d 100%);
  border: 1px solid #f59e0b;
  box-shadow: 0 4px 12px rgba(245, 158, 11, 0.15);
}

.flow-reading--highlight::before {
  background: linear-gradient(180deg, #f59e0b, #d97706);
}

.flow-reading--highlight:hover {
  background: linear-gradient(135deg, #fde68a 0%, #fcd34d 50%, #fbbf24 100%);
  transform: translateY(-3px) scale(1.02);
  box-shadow: 0 12px 30px rgba(245, 158, 11, 0.25);
}

.flow-label {
  font-size: 0.875rem;
  color: var(--muted);
  font-weight: 600;
  letter-spacing: 0.025em;
  text-transform: uppercase;
  display: flex;
  align-items: center;
  gap: 8px;
}

.flow-label::before {
  content: '';
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--equipment-normal);
  box-shadow: 0 0 8px rgba(59, 130, 246, 0.3);
}

.flow-reading--highlight .flow-label::before {
  background: var(--warn);
  box-shadow: 0 0 8px rgba(245, 158, 11, 0.4);
}

.flow-value {
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--ink);
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.025em;
  display: flex;
  align-items: baseline;
  gap: 4px;
}

.flow-value small {
  font-size: 0.75rem;
  color: var(--muted);
  font-weight: 500;
  margin-left: 2px;
}

/* Speed (RPM) Styles */
.speed-display {
  display: flex;
  align-items: baseline;
  justify-content: center;
  gap: var(--space-xs);
  margin-bottom: var(--space-lg);
}

.speed-value {
  font-size: 1.8rem;
  font-weight: 800;
  color: var(--ink);
  font-variant-numeric: tabular-nums;
}

.speed-unit {
  font-size: 0.8rem;
  color: var(--muted);
  font-weight: 600;
}

.speed-bar {
  width: 100%;
  height: 8px;
  background: #e2e8f0;
  border-radius: 4px;
  overflow: hidden;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}

[data-theme="dark"] .speed-bar {
  background: #475569;
}

.speed-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--equipment-normal), #60a5fa);
  border-radius: 4px;
  transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Fire & Smoke Detection Styles */
.detection-grid {
  display: flex;
  justify-content: space-around;
  gap: var(--space-md);
  width: 100%;
  max-width: 120px;
}

.detection-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-sm);
  flex: 1;
}

.detection-icon {
  font-size: 1.8rem;
  padding: var(--space-sm);
  border-radius: 50%;
  background: #f1f5f9;
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid transparent;
  transition: all 0.2s ease;
}

[data-theme="dark"] .detection-icon {
  background: #334155;
}

.detection-icon--ok {
  background: linear-gradient(135deg, #dcfce7, #bbf7d0);
  border-color: #86efac;
}

.detection-icon--alarm {
  background: linear-gradient(135deg, #fecaca, #fca5a5);
  border-color: #ef4444;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.detection-label {
  font-size: 0.75rem;
  color: var(--muted);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.detection-status {
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--ink);
}

/* ESD Valve Styles */
.valve-display {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-md);
  width: 100%;
}

.valve-indicator {
  position: relative;
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #f8fafc, #f1f5f9);
  border-radius: 50%;
  border: 2px solid #e2e8f0;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

[data-theme="dark"] .valve-indicator {
  background: linear-gradient(135deg, #334155, #475569);
  border-color: #475569;
}

.valve-body {
  width: 32px;
  height: 20px;
  background: linear-gradient(135deg, #64748b, #475569);
  border-radius: 4px;
  position: relative;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
}

.valve-gate {
  position: absolute;
  width: 4px;
  height: 16px;
  background: #ef4444;
  border-radius: 2px;
  transition: all 0.3s ease;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.valve-indicator--open .valve-gate {
  background: var(--controls-normal);
  transform: translateY(-8px);
}

.valve-indicator--closed .valve-gate {
  background: var(--controls-critical);
  transform: translateY(0);
}

.valve-info {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-xs);
  text-align: center;
}

.valve-status {
  font-size: 0.9rem;
  font-weight: 700;
  color: var(--ink);
}

.valve-type {
  font-size: 0.75rem;
  color: var(--muted);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Details Button Styles */
.details-button-container {
  display: flex;
  justify-content: center;
  margin: var(--space-2xl) 0;
}

.details-toggle-btn {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-lg) var(--space-2xl);
  background: linear-gradient(135deg, #1a1a1a, #2d2d2d);
  border: 1px solid #404040;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  font-family: inherit;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3), 0 2px 8px rgba(0, 0, 0, 0.2);
  position: relative;
  overflow: hidden;
}

.details-toggle-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transition: left 0.6s ease;
}

.details-toggle-btn:hover::before {
  left: 100%;
}

.details-toggle-btn:hover {
  background: linear-gradient(135deg, #2d2d2d, #404040);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), 0 4px 16px rgba(0, 0, 0, 0.3);
  transform: translateY(-3px);
  border-color: #525252;
}

.details-toggle-btn:active {
  transform: translateY(-1px);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
}

.details-toggle-btn--active {
  background: linear-gradient(135deg, #1e40af, #3b82f6);
  border-color: #60a5fa;
  box-shadow: 0 6px 24px rgba(59, 130, 246, 0.4), 0 3px 12px rgba(59, 130, 246, 0.2);
}

.details-toggle-btn--active:hover {
  background: linear-gradient(135deg, #3b82f6, #60a5fa);
  box-shadow: 0 10px 40px rgba(59, 130, 246, 0.5), 0 5px 20px rgba(59, 130, 246, 0.3);
}

.details-toggle-text {
  font-size: 0.875rem;
  font-weight: 600;
  color: #ffffff;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

.details-toggle-btn--active .details-toggle-text {
  color: #ffffff;
}

.details-toggle-icon {
  font-size: 0.75rem;
  color: #e5e7eb;
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5));
}

.details-toggle-btn--active .details-toggle-icon {
  color: #ffffff;
}

.details-toggle-icon--open {
  transform: rotate(180deg);
}

/* Detail Cards Section */
.detail-cards-section {
  margin: var(--space-2xl) 0;
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.detail-cards-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-xl);
  align-items: stretch;
  margin-bottom: var(--space-xl);
}

.detail-card--wide {
  grid-column: 1 / -1;
}

/* Detail Card Styles */
.detail-card {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
}

.detail-card:hover {
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  transform: translateY(-2px);
}

.detail-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-lg) var(--space-xl);
  background: linear-gradient(135deg, #f8fafc, #f1f5f9);
  border-bottom: 1px solid var(--border);
}

[data-theme="dark"] .detail-card__header {
  background: linear-gradient(135deg, #334155, #475569);
}

.detail-card__title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--ink);
  margin: 0;
}

.detail-card__badge {
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--muted);
  background: rgba(59, 130, 246, 0.1);
  padding: var(--space-xs) var(--space-sm);
  border-radius: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.detail-card__badge--success {
  color: #15803d;
  background: rgba(34, 197, 94, 0.1);
}

.detail-card__content {
  padding: var(--space-xl);
}

/* Maintenance Logs in Detail Cards */
.maintenance-logs {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.log-entry {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: var(--space-md);
  transition: background 0.2s ease;
}

.log-entry:hover {
  background: rgba(59, 130, 246, 0.02);
}

[data-theme="dark"] .log-entry:hover {
  background: rgba(59, 130, 246, 0.1);
}

.log-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-xs);
}

.log-date {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--ink);
}

.log-type {
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 2px 6px;
  border-radius: 3px;
}

.log-type--scheduled {
  color: #1d4ed8;
  background: rgba(29, 78, 216, 0.1);
}

.log-type--corrective {
  color: #dc2626;
  background: rgba(220, 38, 38, 0.1);
}

.log-type--preventive {
  color: #15803d;
  background: rgba(21, 128, 61, 0.1);
}

.log-content {
  font-size: 0.875rem;
  color: var(--muted);
  line-height: 1.4;
}

/* Suction/Discharge in Detail Cards */
.sd-comparison {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: var(--space-lg);
  align-items: start;
}

.sd-side {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

[data-theme="dark"] .sd-side {
  color: var(--ink);
}

.sd-title {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--ink);
  margin: 0 0 var(--space-sm) 0;
  padding-bottom: var(--space-xs);
  border-bottom: 1px solid var(--border);
}

.sd-metrics {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.sd-metric {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-xs) 0;
}

.sd-label {
  font-size: 0.75rem;
  color: var(--muted);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.sd-value {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--ink);
}

.sd-value small {
  font-weight: 400;
  color: var(--muted);
  margin-left: 2px;
}

.sd-divider {
  width: 1px;
  height: 120px;
  background: linear-gradient(to bottom, transparent, var(--border), transparent);
}

/* Vibration Analysis in Detail Cards */
.vibration-analysis {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: var(--space-xl);
  align-items: start;
}

.spectrum-chart {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: var(--space-lg);
}

.spectrum-bars {
  display: flex;
  align-items: end;
  gap: var(--space-sm);
  height: 120px;
  margin-bottom: var(--space-md);
  padding: 0 var(--space-sm);
}

.spectrum-bar {
  flex: 1;
  background: linear-gradient(to top, var(--primary), rgba(59, 130, 246, 0.6));
  border-radius: 3px 3px 0 0;
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-xs);
  min-height: 20px;
}

.bar-label {
  font-size: 0.75rem;
  font-weight: 500;
  color: white;
  margin-bottom: auto;
}

.bar-value {
  font-size: 0.625rem;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.9);
}

.spectrum-frequencies {
  display: flex;
  justify-content: space-between;
  font-size: 0.75rem;
  color: var(--muted);
  padding: 0 var(--space-sm);
}

/* Scientific Spectrum Analysis */
.scientific-spectrum {
  background: #ffffff;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: var(--space-lg);
  font-family: 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', monospace;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

[data-theme="dark"] .scientific-spectrum {
  background: var(--card);
  border-color: var(--border);
}

.spectrum-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-lg);
  padding-bottom: var(--space-sm);
  border-bottom: 1px solid #e2e8f0;
}

.spectrum-title {
  font-size: 0.875rem;
  font-weight: 700;
  color: #1e293b;
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

[data-theme="dark"] .spectrum-title {
  color: var(--ink);
}

.spectrum-controls {
  display: flex;
  gap: var(--space-md);
}

.control-label {
  font-size: 0.7rem;
  color: #64748b;
  background: #f8fafc;
  padding: 2px 6px;
  border-radius: 3px;
  border: 1px solid #e2e8f0;
}

[data-theme="dark"] .control-label {
  color: var(--muted);
  background: #334155;
  border-color: var(--border);
}

.spectrum-grid {
  position: relative;
  display: flex;
  height: 140px;
  background: linear-gradient(135deg, #fefefe, #f8fafc);
  border: 1px solid #e2e8f0;
  border-radius: 4px;
  margin-bottom: var(--space-md);
}

[data-theme="dark"] .spectrum-grid {
  background: linear-gradient(135deg, #1e293b, #334155);
  border-color: var(--border);
}

.spectrum-y-axis {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: var(--space-xs) 0;
  margin-right: var(--space-sm);
  min-width: 35px;
}

.y-tick {
  font-size: 0.7rem;
  color: #475569;
  font-weight: 600;
  background: rgba(255, 255, 255, 0.9);
  padding: 1px 4px;
  border-radius: 2px;
  border: 1px solid #cbd5e1;
  text-align: center;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

[data-theme="dark"] .y-tick {
  color: var(--ink);
  background: rgba(30, 41, 59, 0.9);
  border-color: var(--border);
}

.scientific-bars {
  flex: 1;
  display: flex;
  align-items: end;
  gap: var(--space-sm);
  padding: var(--space-xs);
  position: relative;
}

.scientific-bars::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    linear-gradient(to right, #e2e8f0 1px, transparent 1px),
    linear-gradient(to top, #f1f5f9 1px, transparent 1px);
  background-size: 20px 20px;
  opacity: 0.6;
  pointer-events: none;
}

.scientific-bar {
  flex: 1;
  background: linear-gradient(to top, #1e40af, #3b82f6, #60a5fa);
  border-radius: 2px 2px 0 0;
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  min-height: 15px;
  border: 1px solid #1e40af;
  box-shadow: 0 2px 4px rgba(30, 64, 175, 0.2);
  transition: all 0.2s ease;
}

.scientific-bar:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(30, 64, 175, 0.3);
}

.bar-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: auto;
  padding: 2px;
}

.bar-amplitude {
  font-size: 0.65rem;
  font-weight: 700;
  color: white;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.bar-units {
  font-size: 0.55rem;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.8);
}

.bar-base {
  background: rgba(255, 255, 255, 0.9);
  border-radius: 2px;
  padding: 1px 3px;
  margin: 2px;
}

.harmonic-label {
  font-size: 0.65rem;
  font-weight: 700;
  color: #1e40af;
}

.spectrum-x-axis {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.x-axis-labels {
  display: flex;
  justify-content: space-between;
  padding: 0 35px 0 var(--space-sm);
}

.freq-label {
  font-size: 0.7rem;
  font-weight: 600;
  color: #374151;
  background: rgba(255, 255, 255, 0.9);
  padding: 2px 4px;
  border-radius: 3px;
  border: 1px solid #e2e8f0;
  text-align: center;
}

[data-theme="dark"] .freq-label {
  color: var(--ink);
  background: rgba(30, 41, 59, 0.9);
  border-color: var(--border);
}

.freq-label sub {
  font-size: 0.6rem;
  color: #64748b;
}

.x-axis-title {
  text-align: center;
  font-size: 0.75rem;
  font-weight: 700;
  color: #1e293b;
  margin-top: var(--space-xs);
  padding: var(--space-xs);
  background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
  border-radius: 4px;
  border: 1px solid #cbd5e1;
}

[data-theme="dark"] .x-axis-title {
  color: var(--ink);
  background: linear-gradient(135deg, #334155, #475569);
  border-color: var(--border);
}

.spectrum-footer {
  margin-top: var(--space-md);
  padding-top: var(--space-sm);
  border-top: 1px solid #e2e8f0;
}

.analysis-params {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: var(--space-sm);
}

.param {
  font-size: 0.7rem;
  font-weight: 600;
  color: #475569;
  background: #f8fafc;
  padding: 3px 6px;
  border-radius: 3px;
  border: 1px solid #e2e8f0;
}

[data-theme="dark"] .param {
  color: var(--ink);
  background: #334155;
  border-color: var(--border);
}

.vibration-metrics {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: var(--space-lg);
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);
}

.vib-metric {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.vib-label {
  font-size: 0.75rem;
  color: var(--muted);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.vib-value {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--ink);
}

.vib-value small {
  font-size: 0.875rem;
  font-weight: 400;
  color: var(--muted);
  margin-left: 2px;
}

/* Responsive Design for Detail Cards */
@media (max-width: 1200px) {
  .detail-cards-grid {
    grid-template-columns: 1fr;
  }
  
  .detail-card--wide {
    grid-column: 1;
  }
  
  .vibration-analysis {
    grid-template-columns: 1fr;
    gap: var(--space-lg);
  }
}

@media (max-width: 768px) {
  .sd-comparison {
    grid-template-columns: 1fr;
    gap: var(--space-md);
  }
  
  .sd-divider {
    display: none;
  }
  
  .spectrum-bars {
    height: 80px;
  }
  
  .details-toggle-btn {
    padding: var(--space-sm) var(--space-lg);
  }
  
  .details-toggle-text {
    font-size: 0.8125rem;
  }
}

/* Gas Concentration Styles */
.gas-concentration-display {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-sm);
  width: 100%;
}

.gas-value {
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--ink);
  line-height: 1;
  font-variant-numeric: tabular-nums;
}

.gas-unit {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 1px;
}

.gas-gauge {
  width: 100%;
  height: 8px;
  background: #e2e8f0;
  border-radius: 4px;
  overflow: hidden;
  margin-top: var(--space-sm);
}

[data-theme="dark"] .gas-gauge {
  background: #475569;
}

.gas-bar {
  height: 100%;
  border-radius: 4px;
  transition: all 0.3s ease;
}

.gas-bar--safe {
  background: linear-gradient(90deg, #10b981, #059669);
}

.gas-bar--warning {
  background: linear-gradient(90deg, #f59e0b, #d97706);
}

/* Compressor Health Styles */
.compressor-health-display {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  width: 100%;
}

.compressor-status-mini {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: var(--space-md);
  background: linear-gradient(135deg, #dcfce7 0%, #d1fae5 100%);
  border-radius: 8px;
  border: 1px solid #86efac;
}

[data-theme="dark"] .compressor-status-mini {
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(16, 185, 129, 0.15) 100%);
  border-color: rgba(16, 185, 129, 0.4);
}

.compressor-status-text {
  font-size: 1.25rem;
  font-weight: 700;
  color: #166534;
  text-transform: uppercase;
  letter-spacing: 1px;
}

[data-theme="dark"] .compressor-status-text {
  color: #10b981;
}

.compressor-status-display {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
}

.vibration-reading-mini {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-sm) var(--space-md);
  background: #f8fafc;
  border-radius: 6px;
  border: 1px solid #e2e8f0;
}

[data-theme="dark"] .vibration-reading-mini {
  background: #334155;
  border-color: #475569;
}

.vibration-label-mini {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.vibration-value-mini {
  font-size: 1rem;
  font-weight: 700;
  color: var(--ink);
  font-variant-numeric: tabular-nums;
}

.vibration-value-mini small {
  font-size: 0.75rem;
  font-weight: 400;
  color: var(--muted);
  margin-left: 2px;
}

/* Vibration Display Styles */
.vibration-display {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-sm);
  width: 100%;
}

.vibration-value {
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--ink);
  line-height: 1;
  font-variant-numeric: tabular-nums;
}

.vibration-unit {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 1px;
}

.vibration-gauge {
  width: 100%;
  height: 8px;
  background: #e2e8f0;
  border-radius: 4px;
  overflow: hidden;
  margin-top: var(--space-sm);
}

.vibration-bar {
  height: 100%;
  border-radius: 4px;
  transition: all 0.3s ease;
}

.vibration-bar--normal {
  background: linear-gradient(90deg, #10b981, #059669);
}

.vibration-bar--warning {
  background: linear-gradient(90deg, #f59e0b, #d97706);
}